<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infographie : L'IA au chevet de l'entraîneur 2.0 & Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA; /* Fond clair pour l'ensemble */
            color: #343A40;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #003F5C, #374C80); /* Couleurs principales IA */
        }
        .icon-style {
            font-size: 2.5rem;
            line-height: 1;
        }
        .card {
            background-color: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 2.5rem;
            margin-bottom: 2.5rem;
            border: 1px solid #e2e8f0;
        }

        /* --- Styles spécifiques au Quiz --- */
        .quiz-section {
            margin-top: 5rem; /* Espace bien le quiz de l'infographie */
            padding-top: 3rem;
            border-top: 2px solid #E2E8F0; /* Ligne de séparation subtile */
        }
        .quiz-container {
            background-color: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            padding: 2.5rem;
            max-width: 700px; /* Limite la largeur pour le quiz */
            width: 100%;
            text-align: center;
            border: 1px solid #e2e8f0;
            margin: 0 auto; /* Centrer le quiz */
        }
        .quiz-title {
            font-size: 2.5rem;
            font-weight: 800;
            color: #003F5C; /* Bleu foncé de l'IA */
            margin-bottom: 2rem;
            letter-spacing: -0.025em;
        }
        .question-text {
            font-size: 1.5rem;
            font-weight: 600;
            color: #374C80; /* Violet foncé de l'IA */
            margin-bottom: 1.5rem;
        }
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .option-label {
            display: flex;
            align-items: center;
            background-color: #F0F4F8; /* Gris clair */
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            font-size: 1.1rem;
            font-weight: 500;
            color: #374151; /* Texte gris */
            text-align: left;
        }
        .option-label:hover {
            background-color: #E2E8F0; /* Gris plus foncé au survol */
            transform: translateY(-2px);
        }
        .option-label input[type="radio"] {
            margin-right: 1rem;
            accent-color: #7A5195; /* Couleur violette de l'IA */
            transform: scale(1.2);
        }
        .feedback-message {
            margin-top: 1rem;
            font-size: 1.1rem;
            font-weight: 600;
        }
        .feedback-correct {
            color: #28A745; /* Vert standard pour le succès */
        }
        .feedback-incorrect {
            color: #DC3545; /* Rouge standard pour l'échec */
        }
        .quiz-button {
            background-color: #7A5195; /* Violet de l'IA */
            color: white;
            padding: 0.8rem 2rem;
            border-radius: 0.75rem;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            border: none;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .quiz-button:hover {
            background-color: #BC5090; /* Magenta de l'IA au survol */
            transform: translateY(-2px);
        }
        .results-container {
            font-size: 1.5rem;
            font-weight: 600;
            color: #003F5C; /* Bleu foncé */
            margin-top: 2rem;
        }
        .restart-button {
            background-color: #EF5675; /* Rose de l'IA pour recommencer */
            margin-top: 1.5rem;
        }
        .restart-button:hover {
            background-color: #FF764A; /* Orange de l'IA au survol */
        }

        /* Styles des graphes (issus de votre code IA) */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Hero Section -->
    <header class="gradient-bg text-white text-center p-8 md:p-12 shadow-lg">
        <h1 class="text-4xl md:text-5xl font-black uppercase tracking-wide">L'Entraîneur 2.0</h1>
        <p class="mt-4 text-xl md:text-2xl font-light text-amber-500">Comment l'IA révolutionne le coaching en ski alpin (article de Jeff Piccard)</p>
    </header>

    <main class="container mx-auto p-4 md:p-8">

        <!-- Introduction Section -->
        <section class="text-center mb-12">
             <div class="bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto">
                 <h2 class="text-3xl font-bold text-[#003F5C] mb-4">Un tournant technologique dans l’entraînement</h2>
                 <p class="text-lg text-gray-600">L’intuition et l’expérience, piliers du coaching, sont désormais augmentées par des outils numériques. L’IA s’impose comme un levier essentiel pour décortiquer la performance, anticiper les risques, personnaliser l’entraînement et optimiser la logistique, renforçant l'expertise humaine sans la remplacer.</p>
            </div>
        </section>


        <!-- Grid Layout for Visualizations -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

            <!-- Card 1: The "Data-Aware" Coach -->
            <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col justify-between">
                <div>
                    <h3 class="text-2xl font-bold text-[#003F5C] mb-2">1. Devenir un entraîneur "Data-Aware"</h3>
                    <p class="text-gray-600 mb-4">L'évolution du métier impose aux entraîneurs de comprendre et d'utiliser la donnée pour guider leurs stratégies. L'objectif n'est pas de devenir un expert en algorithmes, mais de savoir poser les bonnes questions.</p>
                </div>
                <div class="chart-container h-64 md:h-72">
                    <canvas id="coachCompositionChart"></canvas>
                </div>
                <p class="text-center text-sm text-gray-500 mt-4">Composition de la décision du coach moderne.</p>
            </div>

            <!-- Card 2: Video Analysis -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-2xl font-bold text-[#003F5C] mb-2">2. Amplifier l'œil avec l'analyse vidéo</h3>
                <p class="text-gray-600 mb-4">L'IA automatise l'analyse de dizaines de runs pour extraire des détails invisibles à l'œil nu, offrant un gain de temps considérable et une précision inégalée.</p>
                <div class="w-full h-72 bg-gray-900 rounded-lg flex items-center justify-center relative overflow-hidden">
                    <p class="text-5xl text-gray-600">▶</p>
                    <div class="absolute top-10 left-4 bg-[#EF5675] bg-opacity-80 text-white text-xs p-2 rounded-md">
                        <p class="font-bold">Analyse IA :</p>
                        <p>Centre de gravité OK</p>
                    </div>
                    <div class="absolute bottom-12 right-4 bg-[#FFA600] bg-opacity-80 text-white text-xs p-2 rounded-md">
                        <p class="font-bold">Analyse IA :</p>
                        <p>Rupture de trajectoire</p>
                    </div>
                    <div class="absolute top-1/2 left-1/2 w-96 h-0.5 bg-cyan-400 -translate-x-1/2 -translate-y-1/2 rotate-[-15deg]"></div>
                    <p class="absolute bottom-4 text-white text-sm font-mono">RUN_04_ANALYSIS.mp4</p>
                </div>
                <p class="text-center text-sm text-gray-500 mt-4">Simulation d'une analyse vidéo augmentée par l'IA.</p>
            </div>

            <!-- Card 3: Individual Load Management -->
            <div class="bg-white rounded-lg shadow-lg p-6 md:col-span-2">
                <h3 class="text-2xl font-bold text-[#003F5C] mb-2">3. Prévenir les blessures par le suivi individuel</h3>
                <p class="text-gray-600 mb-4">Grâce aux capteurs portables, l'IA analyse en temps réel les signes de fatigue ou de déséquilibre, permettant d'ajuster la charge d'entraînement et de passer d'une approche standardisée à une approche ultra-personnalisée.</p>
                <div class="chart-container h-80">
                    <canvas id="athleteLoadChart"></canvas>
                </div>
                <p class="text-center text-sm text-gray-500 mt-4">Suivi de la charge d'entraînement vs. état de récupération sur une semaine.</p>
            </div>

            <!-- Card 4: Data Sources -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-2xl font-bold text-[#003F5C] mb-2">4. Des données partout, une intelligence pour les trier</h3>
                <p class="text-gray-600 mb-4">L'IA transforme le déluge de données brutes en un tableau de bord synthétique, offrant des enseignements clairs et rapides à l'entraîneur.</p>
                <div class="chart-container h-80">
                    <canvas id="dataSourcesChart"></canvas>
                </div>
                <p class="text-center text-sm text-gray-500 mt-4">Impact relatif des différentes sources de données dans l'analyse de performance.</p>
            </div>

            <!-- Card 5: Man-Machine Collaboration -->
            <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col justify-center items-center">
                <h3 class="text-2xl font-bold text-center text-[#003F5C] mb-4">5. La collaboration Homme-Machine</h3>
                <p class="text-center text-gray-600 mb-6">L'IA est un co-pilote puissant, mais la décision finale revient toujours à l'entraîneur, qui intègre sa connaissance humaine de l'athlète.</p>
                <div class="space-y-4 text-center">
                    <div class="flex items-center justify-center space-x-4">
                        <span class="icon-style text-[#7A5195]">📊</span>
                        <span class="icon-style text-[#BC5090]">🧠</span>
                    </div>
                    <p class="text-2xl font-bold text-gray-500">↓</p>
                    <div class="bg-[#374C80] text-white p-4 rounded-lg shadow-md">
                        <p class="font-bold">L'IA PROPOSE</p>
                        <p class="text-sm">Analyses, modèles, alertes</p>
                    </div>
                    <p class="text-2xl font-bold text-gray-500">↓</p>
                    <div class="bg-white border-2 border-[#374C80] p-4 rounded-lg shadow-md">
                        <p class="font-bold text-[#374C80]">L'ENTRAÎNEUR DISPOSE</p>
                        <p class="text-sm">Jugement, expérience, relation humaine</p>
                    </div>
                </div>
            </div>

            <!-- Card 6: Benefits -->
            <div class="bg-white rounded-lg shadow-lg p-6 md:col-span-2">
                <h3 class="text-2xl font-bold text-[#003F5C] mb-4">Un futur déjà présent : bénéfices et vigilance</h3>
                <p class="text-gray-600 mb-6">L'intégration de ces technologies est un enjeu clair. Si elle demande des investissements et une formation, les bénéfices sont tangibles pour une performance durable et saine.</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-center">
                    <div class="border border-gray-200 p-4 rounded-lg">
                        <p class="icon-style text-[#FF764A]">⏱️</p>
                        <p class="font-bold mt-2">Gain de temps</p>
                        <p class="text-sm text-gray-600">Automatisation des tâches chronophages.</p>
                    </div>
                    <div class="border border-gray-200 p-4 rounded-lg">
                        <p class="icon-style text-[#EF5675]">🛡️</p>
                        <p class="font-bold mt-2">Prévention des blessures</p>
                        <p class="text-sm text-gray-600">Détection précoce des risques.</p>
                    </div>
                    <div class="border border-gray-200 p-4 rounded-lg">
                        <p class="icon-style text-[#BC5090]">📈</p>
                        <p class="font-bold mt-2">Amélioration des perfs</p>
                        <p class="text-sm text-gray-600">Optimisation technique et tactique.</p>
                    </div>
                    <div class="border border-gray-200 p-4 rounded-lg">
                        <p class="icon-style text-[#7A5195]">🔒</p>
                        <p class="font-bold mt-2">Défis à relever</p>
                        <p class="text-sm text-gray-600">Formation, coûts et protection des données (RGPD).</p>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <footer class="mt-12 p-8 bg-gray-800 text-white text-center">
        <p class="font-bold">L'avenir du ski alpin passera par cette alliance entre tradition et innovation.</p>
        <p class="text-sm mt-2 text-gray-400">Infographie générée à partir de l'article "L’Intelligence Artificielle : au chevet de l’entraîneur 2.0" Jeff Piccard .</p>
    </footer>

    <!-- Début de la section Quiz -->
    <div class="container quiz-section">
        <div id="quiz" class="quiz-container">
            <h1 class="quiz-title">Quiz : L'IA au chevet de l'entraîneur 2.0</h1>
            <div id="question-area">
                <p id="question-text" class="question-text"></p>
                <div id="options-container" class="options-container"></div>
                <p id="feedback" class="feedback-message"></p>
                <button id="next-button" class="quiz-button">Question Suivante</button>
            </div>
            <div id="results-area" class="results-container hidden">
                <p>Votre score final : <span id="final-score"></span> / 8</p>
                <button id="restart-button" class="quiz-button restart-button">Recommencer le Quiz</button>
            </div>
        </div>
    </div>
    <!-- Fin de la section Quiz -->

    <script>
        // Fonctions pour les graphes de l'infographie IA
        const FONT_COLOR = '#374151';
        const GRID_COLOR = '#E5E7EB';
        const PALETTE = {
            blue_dark: '#003F5C',
            purple_dark: '#374C80',
            purple: '#7A5195',
            magenta: '#BC5090',
            pink: '#EF5675',
            orange: '#FF764A',
            yellow: '#FFA600'
        };

        function wrapText(label, maxWidth) {
            if (typeof label !== 'string' || label.length <= maxWidth) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + ' ' + word).trim().length > maxWidth) {
                    lines.push(currentLine.trim());
                    currentLine = word;
                } else {
                    currentLine = (currentLine + ' ' + word).trim();
                }
            }
            if (currentLine) {
                lines.push(currentLine.trim());
            }
            return lines;
        }

        const universalTooltipOptions = {
            plugins: {
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) {
                                return label.join(' ');
                            }
                            return label;
                        }
                    }
                }
            }
        };

        // Code pour les graphes de l'infographie IA
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM Content Loaded. Initializing charts and quiz.');

            // Chart 1: Coach Composition Chart
            const ctx1 = document.getElementById('coachCompositionChart');
            if(ctx1) {
                new Chart(ctx1, {
                    type: 'doughnut',
                    data: {
                        labels: ['Analyse de Données (IA)', 'Expérience & Intuition'],
                        datasets: [{
                            label: 'Composition de la Décision',
                            data: [60, 40],
                            backgroundColor: [PALETTE.purple_dark, PALETTE.pink],
                            borderColor: '#FFFFFF',
                            borderWidth: 4,
                            hoverOffset: 8
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: { color: FONT_COLOR }
                            },
                            tooltip: universalTooltipOptions.plugins.tooltip
                        },
                        cutout: '60%'
                    }
                });
            }

            // Chart 2: Athlete Load Chart
            const ctx2 = document.getElementById('athleteLoadChart');
            if(ctx2) {
                new Chart(ctx2, {
                    type: 'line',
                    data: {
                        labels: ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'],
                        datasets: [{
                            label: 'Charge d\'entraînement',
                            data: [65, 70, 85, 80, 50, 30, 0],
                            borderColor: PALETTE.orange,
                            backgroundColor: PALETTE.orange + '33',
                            fill: true,
                            tension: 0.4,
                            pointBackgroundColor: PALETTE.orange,
                            pointRadius: 5
                        }, {
                            label: 'État de récupération',
                            data: [90, 80, 60, 65, 85, 95, 100],
                            borderColor: PALETTE.purple_dark,
                            backgroundColor: PALETTE.purple_dark + '33',
                            fill: false,
                            tension: 0.4,
                            pointBackgroundColor: PALETTE.purple_dark,
                            pointRadius: 5
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: { color: FONT_COLOR }
                            },
                            tooltip: universalTooltipOptions.plugins.tooltip
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: { display: true, text: 'Niveau (%)', color: FONT_COLOR },
                                grid: { color: GRID_COLOR },
                                ticks: { color: FONT_COLOR }
                            },
                            x: {
                                grid: { display: false },
                                ticks: { color: FONT_COLOR }
                            }
                        }
                    }
                });
            }

            // Chart 3: Data Sources Chart
            const ctx3 = document.getElementById('dataSourcesChart');
            if(ctx3) {
                const rawLabels = [
                    'Analyse Vidéo des runs',
                    'Capteurs physiques du skieur',
                    'Données GPS (trajectoire, vitesse)',
                    'Données des skis (pression, flexion)',
                    'Chronos et résultats',
                    'Données météorologiques'
                ];
                const chartLabels = rawLabels.map(label => wrapText(label, 20));

                new Chart(ctx3, {
                    type: 'bar',
                    data: {
                        labels: chartLabels,
                        datasets: [{
                            label: 'Impact sur la Décision',
                            data: [90, 85, 75, 60, 70, 50],
                            backgroundColor: [
                                PALETTE.blue_dark,
                                PALETTE.purple_dark,
                                PALETTE.purple,
                                PALETTE.magenta,
                                PALETTE.pink,
                                PALETTE.orange
                            ],
                            borderRadius: 4
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: universalTooltipOptions.plugins.tooltip
                        },
                        scales: {
                            x: {
                                beginAtZero: true,
                                title: { display: true, text: 'Indice d\'impact', color: FONT_COLOR },
                                grid: { color: GRID_COLOR },
                                ticks: { color: FONT_COLOR }
                            },
                            y: {
                                grid: { display: false },
                                ticks: { color: FONT_COLOR }
                            }
                        }
                    }
                });
            }

            // --- Code pour le Quiz ---
            console.log('Initializing quiz...');
            const questions = [
                {
                    question: "Quel est le rôle principal de l'IA dans le coaching, selon l'introduction de l'infographie ?",
                    options: [
                        "Remplacer entièrement les entraîneurs humains.",
                        "Augmenter l'intuition et l'expérience humaines avec des outils numériques.",
                        "Se concentrer uniquement sur l'optimisation logistique.",
                        "Simplifier la prise de décision sans nécessiter de données."
                    ],
                    correctAnswer: 1 // Augmenter l'intuition et l'expérience humaines avec des outils numériques.
                },
                {
                    question: "Quel est l'objectif principal pour un entraîneur de devenir 'Data-Aware' ?",
                    options: [
                        "Devenir un expert en algorithmes.",
                        "Éviter d'utiliser les données dans la prise de décision.",
                        "Comprendre et utiliser les données pour guider les stratégies.",
                        "Ne se fier qu'à son intuition."
                    ],
                    correctAnswer: 2 // Comprendre et utiliser les données pour guider les stratégies.
                },
                {
                    question: "Comment l'IA améliore-t-elle l'analyse vidéo pour les entraîneurs ?",
                    options: [
                        "En revoyant manuellement chaque run plus rapidement.",
                        "En automatisant l'extraction de détails invisibles à partir de nombreuses séquences.",
                        "En réduisant le nombre de runs à analyser.",
                        "En fournissant uniquement des retours subjectifs."
                    ],
                    correctAnswer: 1 // En automatisant l'extraction de détails invisibles à partir de nombreuses séquences.
                },
                {
                    question: "Quel avantage spécifique l'IA offre-t-elle dans la prévention des blessures via le suivi individuel ?",
                    options: [
                        "Elle crée une approche d'entraînement standardisée.",
                        "Elle détecte la fatigue ou les déséquilibres en temps réel pour ajuster la charge d'entraînement.",
                        "Elle réduit le besoin de capteurs portables.",
                        "Elle se concentre uniquement sur les données de performance historiques."
                    ],
                    correctAnswer: 1 // Elle détecte la fatigue ou les déséquilibres en temps réel pour ajuster la charge d'entraînement.
                },
                {
                    question: "Comment l'IA transforme-t-elle les données brutes en un outil utile pour les entraîneurs ?",
                    options: [
                        "En générant davantage de données brutes.",
                        "En présentant des données complexes sous forme de tableau de bord synthétique et clair.",
                        "En obligeant les entraîneurs à trier les données manuellement.",
                        "En écartant les données non pertinentes sans analyse."
                    ],
                    correctAnswer: 1 // En présentant des données complexes sous forme de tableau de bord synthétique et clair.
                },
                {
                    question: "Dans la collaboration Homme-Machine, qui prend la décision finale ?",
                    options: [
                        "L'IA prend toutes les décisions finales.",
                        "Les données priment toujours sur le jugement humain.",
                        "L'entraîneur, en intégrant sa connaissance humaine de l'athlète.",
                        "Une combinaison directe de l'IA et des retours de l'athlète."
                    ],
                    correctAnswer: 2 // L'entraîneur, en intégrant sa connaissance humaine de l'athlète.
                },
                {
                    question: "Parmi les éléments suivants, lequel N'EST PAS cité comme un bénéfice direct de l'intégration de l'IA dans le coaching ?",
                    options: [
                        "Gain de temps.",
                        "Prévention des blessures.",
                        "Augmentation des salaires des athlètes.",
                        "Amélioration des performances."
                    ],
                    correctAnswer: 2 // Augmentation des salaires des athlètes.
                },
                {
                    question: "Quel est le message général concernant le rôle de l'IA dans l'avenir du coaching de ski ?",
                    options: [
                        "L'IA remplacera complètement les entraîneurs humains.",
                        "L'IA est un puissant copilote qui augmente l'expertise humaine.",
                        "L'IA est trop chère et complexe pour une utilisation pratique.",
                        "L'IA est principalement destinée aux défis logistiques, pas à la performance sur neige."
                    ],
                    correctAnswer: 1 // L'IA est un puissant copilote qui augmente l'expertise humaine.
                }
            ];

            let currentQuestionIndex = 0;
            let score = 0;
            let selectedOption = null;

            const questionTextElement = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const nextButton = document.getElementById('next-button');
            const feedbackElement = document.getElementById('feedback');
            const resultsArea = document.getElementById('results-area');
            const questionArea = document.getElementById('question-area');
            const finalScoreElement = document.getElementById('final-score');
            const restartButton = document.getElementById('restart-button');

            // Function to display the current question
            function displayQuestion() {
                console.log('Displaying question:', currentQuestionIndex);
                feedbackElement.textContent = '';
                nextButton.textContent = 'Question Suivante';
                nextButton.disabled = true;
                selectedOption = null;

                if (currentQuestionIndex < questions.length) {
                    const questionData = questions[currentQuestionIndex];
                    questionTextElement.textContent = `${currentQuestionIndex + 1}. ${questionData.question}`;
                    optionsContainer.innerHTML = '';

                    questionData.options.forEach((option, index) => {
                        const label = document.createElement('label');
                        label.className = 'option-label';
                        label.innerHTML = `
                            <input type="radio" name="answer" value="${index}" class="form-radio" />
                            ${option}
                        `;
                        label.addEventListener('click', () => {
                            selectedOption = index;
                            nextButton.disabled = false;
                        });
                        optionsContainer.appendChild(label);
                    });
                    resultsArea.classList.add('hidden');
                    questionArea.classList.remove('hidden'); // Ensure question area is visible
                    console.log('Question area should be visible now.');
                } else {
                    showResults();
                }
            }

            // Function to check the selected answer
            function checkAnswer() {
                if (selectedOption === null) {
                    feedbackElement.textContent = 'Veuillez sélectionner une réponse.';
                    feedbackElement.className = 'feedback-message feedback-incorrect';
                    return;
                }

                const questionData = questions[currentQuestionIndex];
                if (selectedOption === questionData.correctAnswer) {
                    score++;
                    feedbackElement.textContent = 'Correct !';
                    feedbackElement.className = 'feedback-message feedback-correct';
                } else {
                    feedbackElement.textContent = `Faux. La bonne réponse était : ${questionData.options[questionData.correctAnswer]}`;
                    feedbackElement.className = 'feedback-message feedback-incorrect';
                }

                const radioButtons = optionsContainer.querySelectorAll('input[type="radio"]');
                radioButtons.forEach(radio => radio.disabled = true);

                nextButton.textContent = (currentQuestionIndex === questions.length - 1) ? 'Voir les résultats' : 'Question Suivante';
                nextButton.disabled = false;
            }

            // Function to advance to the next question
            function goToNextQuestion() {
                if (feedbackElement.textContent !== '') {
                    currentQuestionIndex++;
                    displayQuestion();
                }
            }

            // Function to show final results
            function showResults() {
                questionArea.classList.add('hidden');
                resultsArea.classList.remove('hidden');
                finalScoreElement.textContent = score;
            }

            // Function to restart the quiz
            function restartQuiz() {
                currentQuestionIndex = 0;
                score = 0;
                displayQuestion();
            }

            // Event Listeners
            nextButton.addEventListener('click', () => {
                if (currentQuestionIndex < questions.length) {
                    checkAnswer(); // First, check the answer for the current question
                    // Ajout d'un délai pour que l'utilisateur puisse voir le feedback avant de passer à la question suivante
                    if (currentQuestionIndex < questions.length -1) { // Si ce n'est pas la dernière question
                        setTimeout(goToNextQuestion, 1500);
                    } else { // Si c'est la dernière question, affiche directement les résultats
                         setTimeout(showResults, 1500);
                    }
                }
            });

            restartButton.addEventListener('click', restartQuiz);

            // Initialize the quiz when the page loads
            displayQuestion(); // Initial call
            console.log('Quiz initialization complete.');
        });
    </script>
</body>
</html>
