<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infographie: L'Art de l'Appui en Ski Alpin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Palette de couleurs choisie: Energetic & Playful -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .chart-container-radar {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 450px;
        }
        @media (min-width: 768px) {
            .chart-container-radar {
                height: 400px;
            }
        }
        .table-header {
            background-color: #073B4C;
            color: white;
        }
        .code-green { background-color: #06D6A0; color: #073B4C; }
        .code-blue { background-color: #118AB2; color: white; }
        .code-red { background-color: #FF6B6B; color: white; }
        .code-black { background-color: #073B4C; color: white; }
        .quiz-option {
            cursor: pointer;
            transition: all 0.2s;
        }
        .quiz-option:hover:not(.selected) {
            background-color: #E0F2F7; 
        }
        .correct {
            background-color: #06D6A0; 
            color: #073B4C;
            font-weight: bold;
        }
        .incorrect {
            background-color: #FF6B6B; 
            color: white;
            font-weight: bold;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'ski-red': '#FF6B6B',
                        'ski-yellow': '#FFD166',
                        'ski-green': '#06D6A0',
                        'ski-blue': '#118AB2',
                        'ski-navy': '#073B4C',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-slate-100 text-ski-navy">

    <header class="bg-ski-navy text-white p-6 shadow-xl">
        <h1 class="text-3xl md:text-4xl font-bold text-center">Le Virage en Ski Alpin : L'Art de l'Appui</h1>
        <p class="text-xl text-center text-ski-blue mt-2">Une analyse fonctionnelle pour d√©velopper l'intelligence motrice</p>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

            <div class="lg:col-span-3 bg-white rounded-lg shadow-xl p-6">
                <h2 class="text-2xl font-bold text-ski-blue mb-4">üéØ Le Principe Fondamental : L'Usage avant l'Outil</h2>
                <p class="mb-4 text-lg">Trop souvent, l'enseignement se concentre sur "comment" faire un geste (l'Outil) sans clarifier "pourquoi" (l'Usage). L'intelligence motrice na√Æt de la compr√©hension de l'objectif : cr√©er un appui efficace. La technique n'est qu'un moyen au service de ce but.</p>
                <div class="flex flex-col md:flex-row items-center justify-around p-4 bg-slate-50 rounded-lg">
                    <div class="text-center m-2">
                        <div class="p-4 bg-ski-blue text-white rounded-lg shadow-md">
                            <h3 class="text-xl font-bold">L'USAGE (Le Pourquoi)</h3>
                            <p class="text-lg">Probl√®me : Changer de direction</p>
                        </div>
                        <div class="text-4xl my-2 text-ski-blue">‚¨áÔ∏è</div>
                        <div class="p-4 bg-ski-green text-white rounded-lg shadow-md">
                            <h3 class="text-xl font-bold">Solution Fonctionnelle</h3>
                            <p class="text-lg">Cr√©er & Utiliser un APPUI</p>
                        </div>
                    </div>
                    <div class="text-4xl mx-8 text-ski-navy hidden md:block">‚û°Ô∏è</div>
                    <div class="text-center m-2">
                        <div class="p-4 bg-ski-navy text-white rounded-lg shadow-md">
                            <h3 class="text-xl font-bold">LES OUTILS (Le Comment)</h3>
                            <p class="text-lg">Moyens : Prise de carre, Alignement, Gainage, Dissociation...</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-3 bg-white rounded-lg shadow-xl p-6">
                <h2 class="text-2xl font-bold text-ski-blue mb-4">‚öñÔ∏è La Physique du Virage : Vaincre l'Inertie</h2>
                <p class="mb-4 text-lg">Un skieur en ligne droite est contraint par l'inertie. Pour tourner, il doit cr√©er une force externe. La solution universelle est la 3√®me loi de Newton : l'Action-R√©action. L'appui n'est pas le virage ; c'est l'action qui provoque la r√©action de la neige, et cette r√©action (la force centrip√®te) fait tourner le skieur.</p>
                <div class="flex flex-col md:flex-row items-stretch justify-between text-center gap-2">
                    <div class="flex-1 p-4 bg-slate-50 rounded-lg shadow-inner">
                        <h3 class="text-xl font-bold text-ski-red">1. Probl√®me : L'Inertie</h3>
                        <p class="text-5xl my-3">üìè</p>
                        <p>Le skieur tend √† conserver sa trajectoire rectiligne.</p>
                    </div>
                    <div class="flex items-center justify-center text-3xl font-bold text-ski-navy">‚û°Ô∏è</div>
                    <div class="flex-1 p-4 bg-ski-yellow rounded-lg shadow-inner">
                        <h3 class="text-xl font-bold text-ski-navy">2. ACTION du Skieur</h3>
                        <p class="text-5xl my-3">üéø</p>
                        <p>Cr√©e un appui via la prise de carre et exerce une force lat√©rale sur la neige.</p>
                    </div>
                    <div class="flex items-center justify-center text-3xl font-bold text-ski-navy">‚û°Ô∏è</div>
                    <div class="flex-1 p-4 bg-ski-green rounded-lg shadow-inner">
                        <h3 class="text-xl font-bold text-ski-navy">3. R√âACTION de la Neige</h3>
                        <p class="text-5xl my-3">‚ùÑÔ∏è</p>
                        <p>La neige oppose une force de r√©action (Force Centrip√®te) qui courbe la trajectoire.</p>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-3 bg-white rounded-lg shadow-xl p-6">
                <h2 class="text-2xl font-bold text-ski-blue mb-4">‚è±Ô∏è Analyse Fonctionnelle du Virage en 3 Phases</h2>
                <p class="mb-4 text-lg">Le virage de comp√©tition est une s√©quence dynamique. La pression sur l'appui n'est pas constante : elle augmente, atteint un pic, puis diminue. L'intention du skieur doit s'adapter √† chaque phase pour g√©rer cette force et l'utiliser √† son avantage.</p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-xl font-semibold text-center mb-2">Courbe de Pression de l'Appui</h3>
                        <div class="chart-container">
                            <canvas id="forceChart"></canvas>
                        </div>
                        <p class="text-center mt-2">Le skieur g√®re activement l'intensit√© de la force centrip√®te tout au long de la trajectoire.</p>
                    </div>
                    <div class="space-y-4">
                        <div class="p-4 rounded-lg shadow-inner bg-slate-50">
                            <h4 class="text-lg font-bold text-ski-blue">1. L'Entonnoir (Pr√©paration)</h4>
                            <p>Le skieur s'oriente et construit son alignement (pied-bassin-√©paule) pour pr√©parer la structure √† recevoir l'impact.</p>
                            <p class="font-semibold italic mt-1">Intention : "Je construis ma structure pour l'impact."</p>
                        </div>
                        <div class="p-4 rounded-lg shadow-inner bg-ski-yellow">
                            <h4 class="text-lg font-bold text-ski-navy">2. La Glissi√®re (R√©sistance)</h4>
                            <p>C'est le c≈ìur du virage, la pression est maximale. Le skieur doit √™tre gain√© et solide pour r√©sister √† l'√©crasement et d√©vier sa trajectoire.</p>
                            <p class="font-semibold italic mt-1">Intention : "Je me gaine et je r√©siste √† la pression."</p>
                        </div>
                        <div class="p-4 rounded-lg shadow-inner bg-ski-green">
                            <h4 class="text-lg font-bold text-ski-navy">3. L'Impulsion (Utilisation)</h4>
                            <p>La pression diminue. Le skieur pilote la lib√©ration de l'√©nergie (le renvoi) non pas vers le haut, mais vers l'avant (all√®gement horizontal).</p>
                            <p class="font-semibold italic mt-1">Intention : "J'utilise le renvoi pour me projeter vers l'avant."</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="md:col-span-1 bg-white rounded-lg shadow-xl p-6">
                <h2 class="text-2xl font-bold text-ski-blue mb-4">üöÄ Efficacit√© de la Projection</h2>
                <p class="mb-4">En Phase 3, l'utilisation du renvoi est cruciale. Une projection verticale (√©l√©vation) est une perte d'√©nergie. Une projection horizontale efficace transf√®re l'√©nergie vers le virage suivant.</p>
                <div class="chart-container" style="height: 250px; max-height: 300px;">
                    <canvas id="projectionChart"></canvas>
                </div>
            </div>

            <div class="md:col-span-1 lg:col-span-2 bg-white rounded-lg shadow-xl p-6">
                <h2 class="text-2xl font-bold text-ski-blue mb-4">üèóÔ∏è L'Architecture de l'Appui Solide</h2>
                <p class="mb-4">Pour r√©sister √† la force en phase 2 (La Glissi√®re), le corps doit √™tre organis√© comme une structure solide. L'efficacit√© biom√©canique est la cl√© pour transmettre la force sans d√©perdition.</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="p-4 bg-slate-50 rounded-lg text-center shadow-inner">
                        <p class="text-4xl mb-2">üîó</p>
                        <h3 class="text-lg font-bold">Alignement</h3>
                        <p>Synergie squelettique (pied-bassin-√©paule) pour transmettre la force √©conomiquement.</p>
                    </div>
                    <div class="p-4 bg-slate-50 rounded-lg text-center shadow-inner">
                        <p class="text-4xl mb-2">üß±</p>
                        <h3 class="text-lg font-bold">Empilement</h3>
                        <p>Connexion int√©grale de la cha√Æne (carres au tronc) pour "peser" sur le ski et contr√¥ler.</p>
                    </div>
                    <div class="p-4 bg-slate-50 rounded-lg text-center shadow-inner">
                        <p class="text-4xl mb-2">üí™</p>
                        <h3 class="text-lg font-bold">Solidit√© (Gainage)</h3>
                        <p>Capacit√© √† maintenir l'alignement sous pression pour ne pas s'√©craser.</p>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-3 bg-white rounded-lg shadow-xl p-6">
                <h2 class="text-2xl font-bold text-ski-blue mb-4">üîÑ Les Deux Grandes Familles d'Appuis</h2>
                <p class="mb-4 text-lg">L'intelligence motrice, c'est aussi choisir le bon *type* d'appui. En fonction de l'objectif (vitesse ou changement de direction), l'appui n'a pas les m√™mes caract√©ristiques. Les disciplines de vitesse privil√©gient la conservation d'√©nergie, tandis que les disciplines techniques exigent un changement de direction intense.</p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 items-center">
                    <div>
                        <div class="p-4 rounded-lg shadow-inner bg-ski-blue text-white mb-4">
                            <h3 class="text-xl font-bold">Appuis Gliss√©s, Pilot√©s, Filants</h3>
                            <p>Mouvement fluide, trajectoire longue. L'objectif est la conservation de la vitesse. Typique de la Descente et du Super-G.</p>
                        </div>
                        <div class="p-4 rounded-lg shadow-inner bg-ski-yellow text-ski-navy">
                            <h3 class="text-xl font-bold">Appuis de D√©viation & Changement</h3>
                            <p>Mouvement court, intense, courbes serr√©es. L'objectif est le changement radical de direction. Typique du Slalom et du G√©ant.</p>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-center mb-2">Profil Comparatif des Appuis</h3>
                        <div class="chart-container-radar">
                            <canvas id="familiesChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div class="md:col-span-1 bg-white rounded-lg shadow-xl p-6">
                <h2 class="text-2xl font-bold text-ski-blue mb-4">üßë‚Äçüè´ Mix P√©dagogique</h2>
                <p class="mb-4">Pour d√©velopper l'intelligence motrice, l'entra√Æneur combine plusieurs m√©thodes. L'objectif est d'aider l'athl√®te √† construire ses propres solutions motrices efficaces.</p>
                <div class="chart-container" style="height: 280px; max-height: 350px;">
                    <canvas id="pedagogyChart"></canvas>
                </div>
            </div>

            <div class="md:col-span-1 lg:col-span-2 bg-white rounded-lg shadow-xl p-6">
                <h2 class="text-2xl font-bold text-ski-blue mb-4">üåç Prise en Compte du Milieu</h2>
                <p class="mb-4">L'efficacit√© de l'entra√Ænement d√©pend de l'adaptation aux conditions. L'entra√Æneur ajuste son approche (exercices, feedback) en fonction de la surface, du niveau de l'athl√®te et de l'objectif.</p>
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse">
                        <thead>
                            <tr class="table-header">
                                <th class="p-3 font-bold">Code</th>
                                <th class="p-3 font-bold">Description du Contexte</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="code-green border-b border-ski-navy">
                                <td class="p-3 font-semibold">CODE VERT</td>
                                <td class="p-3">Neige artificielle, Piste Bleue, Trac√© simple ou Ski Libre</td>
                            </tr>
                            <tr class="code-blue border-b border-ski-navy">
                                <td class="p-3 font-semibold">CODE BLEU</td>
                                <td class="p-3">Neige vari√©e, Piste Rouge, Trac√© couloir de portes, Chgt de rythme</td>
                            </tr>
                            <tr class="code-red border-b border-ski-navy">
                                <td class="p-3 font-semibold">CODE ROUGE</td>
                                <td class="p-3">Neige dure (pr√©par√©e), Pistes vari√©es, Trac√© Nat-Fis et Courses</td>
                            </tr>
                            <tr class="code-black">
                                <td class="p-3 font-semibold">CODE NOIR</td>
                                <td class="p-3">Neige qui tape, Piste Noire, Trac√© Fis-CE en Course de Ref</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="lg:col-span-3 bg-ski-navy text-white rounded-lg shadow-xl p-6 text-center">
                <h2 class="text-2xl font-bold text-ski-green mb-4">üß† Conclusion : Les 3 Piliers de la Ma√Ætrise</h2>
                <p class="text-lg">La performance est le r√©sultat d'une s√©quence motrice intelligente. L'entra√Æneur doit travailler sur trois piliers fondamentaux pour transformer un d√©s√©quilibre contr√¥l√© en performance pure.</p>
                <div class="flex flex-col md:flex-row justify-around items-center mt-6 gap-4">
                    <div class="flex-1">
                        <p class="text-4xl mb-2">ü§∏</p>
                        <h3 class="text-xl font-bold text-ski-yellow">Organisation Corporelle</h3>
                        <p>(Alignement & Gainage)</p>
                    </div>
                    <div class="flex-1">
                        <p class="text-4xl mb-2">‚ö°</p>
                        <h3 class="text-xl font-bold text-ski-yellow">Gestion des Forces</h3>
                        <p>(Pression & Renvoi)</p>
                    </div>
                    <div class="flex-1">
                        <p class="text-4xl mb-2">üëÅÔ∏è</p>
                        <h3 class="text-xl font-bold text-ski-yellow">Finesse Perceptive</h3>
                        <p>(Lecture du Terrain & Kinesth√©sie)</p>
                    </div>
                </div>
            </div>

            <!-- NOUVELLE SECTION QUIZ INTERACTIF -->
            <div class="lg:col-span-3 bg-white rounded-lg shadow-xl p-6 mt-8">
                <h2 class="text-2xl font-bold text-ski-red mb-4 text-center">üß† Quiz Interactif : Testez votre Appui ! (10 Questions)</h2>
                <div id="quiz-container" class="space-y-4">
                    <!-- Question and Options will be rendered here -->
                </div>
                <div id="quiz-feedback" class="mt-4 p-4 rounded-lg hidden"></div>
                <div class="flex justify-end mt-6">
                    <button id="next-button" class="bg-ski-blue text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-ski-navy transition duration-300 hidden" disabled>Question Suivante</button>
                    <button id="restart-button" class="bg-ski-green text-ski-navy font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-ski-navy hover:text-white transition duration-300 hidden">Recommencer le Quiz</button>
                </div>
            </div>
            <!-- FIN NOUVELLE SECTION QUIZ INTERACTIF -->


        </div>
    </main>

    <footer class="text-center p-4 mt-8 text-slate-500">
        <!-- CRITICAL CONFIRMATION: NO MERMAID JS OR SVG USED. All diagrams are either Canvas (Chart.js) or styled HTML/CSS. -->
        <p>Infographie SPA g√©n√©r√©e √† partir de "L'Analyse Fonctionnelle du Virage en Ski Alpin".</p>
    </footer>

    <script>
        const quizData = [
            {
                questionNumber: 1,
                question: "Selon le principe fondamental, quel est l'Usage (le Pourquoi) du skieur dans un virage ?",
                answerOptions: [
                    { text: "Ex√©cuter une dissociation haut/bas", rationale: "Ceci est un Outil (le Comment), un moyen technique, et non l'Usage (le Pourquoi) fonctionnel.", isCorrect: false },
                    { text: "Cr√©er et utiliser un appui efficace", rationale: "L'appui est la solution fonctionnelle au probl√®me de changer de direction, c'est l'Usage principal √† ma√Ætriser.", isCorrect: true },
                    { text: "Garder les skis parall√®les", rationale: "Ceci est une description de la technique de base, pas l'objectif fonctionnel ultime du virage.", isCorrect: false },
                    { text: "Se projeter vers le haut", rationale: "La projection vers le haut est une forme d'utilisation de l'√©nergie, mais l'Usage est de cr√©er le virage lui-m√™me.", isCorrect: false }
                ],
                hint: "Pensez √† la distinction entre le but √† atteindre et les moyens pour y arriver."
            },
            {
                questionNumber: 2,
                question: "Quelle est l'intention principale du skieur lors de la phase de la Glissi√®re (Phase 2, o√π la pression est maximale) ?",
                answerOptions: [
                    { text: "Rel√¢cher la pression pour amorcer le virage suivant", rationale: "Le rel√¢chement se produit dans la phase suivante (Impulsion), pas au pic de pression.", isCorrect: false },
                    { text: "Incliner son corps vers l'int√©rieur de la courbe", rationale: "L'inclinaison est un outil d'alignement, l'intention principale est de r√©sister √† la force qui s'exerce.", isCorrect: false },
                    { text: "Se gainer et r√©sister √† la pression pour d√©vier la trajectoire", rationale: "Cette phase exige solidit√© et gainage pour transmettre la force centrip√®te et √©viter l'√©crasement sous la pression maximale.", isCorrect: true },
                    { text: "Orienter les skis avec les pieds", rationale: "L'orientation fait partie de la Phase 1 (Entonnoir) et de l'ajustement continu, mais la Phase 2 est celle de la r√©sistance pure.", isCorrect: false }
                ],
                hint: "Concentrez-vous sur l'action n√©cessaire pour supporter le moment le plus intense du virage."
            },
            {
                questionNumber: 3,
                question: "Selon la 3√®me loi de Newton (Action-R√©action), quelle force est oppos√©e par la neige pour incurver la trajectoire du skieur ?",
                answerOptions: [
                    { text: "La Force de Gravit√©", rationale: "La gravit√© tire le skieur vers le bas de la pente, elle n'est pas la force de r√©action lat√©rale qui fait tourner.", isCorrect: false },
                    { text: "La Force de Frottement", rationale: "Le frottement ralentit le skieur, mais ne courbe pas directement sa trajectoire.", isCorrect: false },
                    { text: "La Force Centrifuge", rationale: "La force centrifuge est la force d'inertie 'ressentie' par le skieur, non la force appliqu√©e par la neige.", isCorrect: false },
                    { text: "La Force Centrip√®te", rationale: "La force centrip√®te est la r√©action de la neige √† l'action du skieur sur la carre, et c'est elle qui provoque le changement de direction.", isCorrect: true }
                ],
                hint: "C'est la force qui 'centre' la trajectoire vers le rayon du virage."
            },
            {
                questionNumber: 4,
                question: "Qu'est-ce qui caract√©rise la projection efficace du skieur lors de la phase de l'Impulsion (renvoi) ?",
                answerOptions: [
                    { text: "Une √©l√©vation verticale du corps (saut)", rationale: "Une projection verticale (√©l√©vation) est g√©n√©ralement consid√©r√©e comme une perte d'√©nergie dans le sens de la progression.", isCorrect: false },
                    { text: "Une projection vers l'avant (all√®gement horizontal)", rationale: "L'utilisation efficace du renvoi consiste √† transformer l'√©nergie lat√©rale en vitesse vers le virage suivant, d'o√π l'all√®gement horizontal.", isCorrect: true },
                    { text: "Un pivotement des √©paules vers l'ext√©rieur", rationale: "Le pivotement des √©paules vers l'ext√©rieur nuirait √† l'alignement pour le virage suivant.", isCorrect: false },
                    { text: "Un √©crasement des genoux pour augmenter l'appui", rationale: "Cette action est typique de la phase 2 (r√©sistance), pas de la phase 3 (utilisation/renvoi).", isCorrect: false }
                ],
                hint: "L'√©nergie doit √™tre orient√©e pour servir le virage suivant."
            },
            {
                questionNumber: 5,
                question: "Dans l'Architecture de l'Appui Solide, quel est le r√¥le principal de l'Alignement (synergie pied-bassin-√©paule) ?",
                answerOptions: [
                    { text: "Permettre la dissociation haut/bas", rationale: "L'Alignement est d'abord pour la connexion et la solidit√©, la dissociation est un mouvement distinct.", isCorrect: false },
                    { text: "Acc√©l√©rer la prise de carre", rationale: "L'Alignement facilite le maintien, mais n'est pas l'action d'acc√©l√©ration de la prise de carre.", isCorrect: false },
                    { text: "Transmettre la force sans d√©perdition entre la carre et le tronc", rationale: "L'alignement est essentiel pour cr√©er une structure solide et √©conomique, assurant la transmission efficace de la force centrip√®te.", isCorrect: true },
                    { text: "Augmenter la surface de contact du ski", rationale: "L'alignement ne change pas la surface de contact; la prise de carre le fait.", isCorrect: false }
                ],
                hint: "Pensez √† la fa√ßon dont le corps devient un 'poteau' solide pour les forces."
            },
            {
                questionNumber: 6,
                question: "Quel type d'appui est privil√©gi√© en Slalom et G√©ant pour le changement radical de direction ?",
                answerOptions: [
                    { text: "Appuis Gliss√©s et Filants", rationale: "Ces appuis sont pour la conservation de vitesse (Descente/Super-G) et les trajectoires longues.", isCorrect: false },
                    { text: "Appuis Verticaux (Sauts)", rationale: "Les sauts sont utilis√©s pour contourner des obstacles ou des compressions, pas pour un changement de direction radical r√©gulier.", isCorrect: false },
                    { text: "Appuis de D√©viation et Changement", rationale: "Ces appuis sont courts, intenses et optimis√©s pour la modification rapide de la trajectoire, essentielle dans les disciplines techniques.", isCorrect: true },
                    { text: "Appuis Simultan√©s", rationale: "Ce terme n'est pas utilis√© dans cette classification fonctionnelle.", isCorrect: false }
                ],
                hint: "Les disciplines techniques exigent une capacit√© √† 'casser' rapidement la trajectoire pr√©c√©dente."
            },
            {
                questionNumber: 7,
                question: "Quel est l'objectif principal de la phase de l'Entonnoir (Phase 1 du virage) ?",
                answerOptions: [
                    { text: "Exercer la pression maximale sur l'appui", rationale: "La pression maximale est exerc√©e dans la Phase 2 (Glissi√®re).", isCorrect: false },
                    { text: "Construire l'alignement et la structure pour pr√©parer l'impact de la pression", rationale: "L'Entonnoir est la phase de pr√©paration o√π le skieur se positionne et organise son corps pour recevoir et g√©rer la mont√©e en pression.", isCorrect: true },
                    { text: "R√©cup√©rer de l'√©nergie pour le virage suivant", rationale: "La r√©cup√©ration d'√©nergie se fait principalement dans la Phase 3 (Impulsion).", isCorrect: false },
                    { text: "Dissocier le haut du corps", rationale: "La dissociation est un moyen technique utilis√©, mais le but principal est structurel.", isCorrect: false }
                ],
                hint: "C'est la phase de 'mise en place' avant l'action intense."
            },
            {
                questionNumber: 8,
                question: "Quel contexte d'entra√Ænement est associ√© au CODE ROUGE selon l'analyse fonctionnelle ?",
                answerOptions: [
                    { text: "Neige artificielle sur Piste Bleue (d√©butants)", rationale: "Ceci correspond au CODE VERT, les conditions les plus cl√©mentes.", isCorrect: false },
                    { text: "Neige vari√©e sur Piste Rouge (niveau interm√©diaire)", rationale: "Ceci correspond au CODE BLEU, des conditions interm√©diaires.", isCorrect: false },
                    { text: "Neige dure (pr√©par√©e) sur des trac√©s Nationaux ou F√©d√©raux", rationale: "Le CODE ROUGE indique des conditions de neige plus exigeantes et des trac√©s de niveau comp√©titif n√©cessitant une adaptation fine.", isCorrect: true },
                    { text: "Neige qui tape sur Piste Noire (comp√©tition √©lite)", rationale: "Ceci correspond au CODE NOIR, les conditions les plus difficiles.", isCorrect: false }
                ],
                hint: "Le 'ROUGE' est associ√© √† une intensit√© de contrainte √©lev√©e, mais pas maximale."
            },
            {
                questionNumber: 9,
                question: "Parmi les 3 Piliers de la Ma√Ætrise, lequel inclut la comp√©tence de 'Lecture du Terrain et Kinesth√©sie' ?",
                answerOptions: [
                    { text: "L'Organisation Corporelle", rationale: "Ce pilier concerne la structure physique (alignement, gainage).", isCorrect: false },
                    { text: "La Gestion des Forces", rationale: "Ce pilier concerne la pression et le renvoi.", isCorrect: false },
                    { text: "La Finesse Perceptive", rationale: "La finesse perceptive est la capacit√© sensorielle du skieur √† analyser, anticiper et sentir les contraintes du milieu et de son corps.", isCorrect: true },
                    { text: "Le Pilotage de la Vitesse", rationale: "Ceci est une cons√©quence de la ma√Ætrise des 3 Piliers, pas un pilier en soi.", isCorrect: false }
                ],
                hint: "Le pilier li√© √† la perception et √† l'analyse de l'environnement."
            },
            {
                questionNumber: 10,
                question: "√Ä quel moment du virage l'intensit√© de la pression (force) sur le ski atteint-elle son pic, selon l'analyse en 3 phases ?",
                answerOptions: [
                    { text: "Au d√©but du virage (Phase de l'Entonnoir)", rationale: "La pression est encore en augmentation √† ce stade.", isCorrect: false },
                    { text: "Au milieu du virage (Phase de la Glissi√®re)", rationale: "Le pic de pression est atteint dans la Phase 2, o√π le skieur exerce et r√©siste le plus √† la force lat√©rale.", isCorrect: true },
                    { text: "√Ä la fin du virage (Phase de l'Impulsion)", rationale: "La pression est en diminution pour permettre le renvoi et l'all√®gement.", isCorrect: false },
                    { text: "Elle est constante tout au long du virage", rationale: "Le graphique montre clairement une courbe dynamique de la pression.", isCorrect: false }
                ],
                hint: "Visualisez la courbe de force du graphique et son point le plus haut."
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let hasAnswered = false;

        function wrapLabel(label) {
            const maxLabelWidth = 16;
            if (typeof label !== 'string' || label.length <= maxLabelWidth) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + word).length > maxLabelWidth && currentLine.length > 0) {
                    lines.push(currentLine.trim());
                    currentLine = '';
                }
                currentLine += word + ' ';
            }
            lines.push(currentLine.trim());
            return lines;
        }

        const commonTooltipCallback = {
            title: function(tooltipItems) {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) {
                    return label.join(' ');
                } else {
                    return label;
                }
            }
        };
        
        const skiRed = '#FF6B6B';
        const skiYellow = '#FFD166';
        const skiGreen = '#06D6A0';
        const skiBlue = '#118AB2';
        const skiNavy = '#073B4C';
        const chartColors = [skiBlue, skiGreen, skiYellow, skiRed, skiNavy];
        
        const commonChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    labels: {
                        color: skiNavy,
                        font: { size: 12 }
                    }
                },
                tooltip: {
                    callbacks: commonTooltipCallback
                }
            }
        };

        function renderQuiz() {
            const container = document.getElementById('quiz-container');
            const feedbackDiv = document.getElementById('quiz-feedback');
            const nextButton = document.getElementById('next-button');
            const restartButton = document.getElementById('restart-button');

            container.innerHTML = '';
            feedbackDiv.classList.add('hidden');
            feedbackDiv.classList.remove('correct', 'incorrect');
            hasAnswered = false;
            nextButton.disabled = true;

            if (currentQuestionIndex >= quizData.length) {
                container.innerHTML = `<div class="text-center p-8 bg-ski-green rounded-lg text-ski-navy">
                    <h3 class="text-3xl font-bold mb-2">Quiz Termin√© !</h3>
                    <p class="text-xl">Votre score final est de <span class="text-ski-red font-extrabold">${score}</span> / ${quizData.length}.</p>
                    <p class="mt-4">Bravo pour votre pers√©v√©rance et votre analyse des principes de l'appui !</p>
                </div>`;
                nextButton.classList.add('hidden');
                restartButton.classList.remove('hidden');
                return;
            }

            const q = quizData[currentQuestionIndex];
            const qElement = document.createElement('div');
            qElement.className = 'p-4 bg-slate-50 rounded-lg shadow-inner';
            qElement.innerHTML = `
                <p class="text-lg font-bold mb-3 text-ski-navy">Question ${q.questionNumber}/${quizData.length} : ${q.question}</p>
                <div class="space-y-3" id="options-container">
                    ${q.answerOptions.map((option, index) => `
                        <div class="quiz-option p-3 border border-ski-navy rounded-lg transition duration-150 ease-in-out" data-index="${index}">
                            ${option.text}
                        </div>
                    `).join('')}
                </div>
                <p class="text-sm mt-4 italic text-slate-500">Indice : ${q.hint}</p>
            `;
            container.appendChild(qElement);
            nextButton.classList.remove('hidden');
            restartButton.classList.add('hidden');

            const options = container.querySelectorAll('.quiz-option');
            options.forEach(option => {
                option.addEventListener('click', handleAnswer);
            });
        }

        function handleAnswer(event) {
            if (hasAnswered) return;

            hasAnswered = true;
            const selectedOption = event.currentTarget;
            const selectedIndex = parseInt(selectedOption.getAttribute('data-index'));
            const q = quizData[currentQuestionIndex];
            const feedbackDiv = document.getElementById('quiz-feedback');
            const nextButton = document.getElementById('next-button');
            const options = document.querySelectorAll('.quiz-option');
            let isCorrect = false;

            options.forEach(option => option.removeEventListener('click', handleAnswer));
            nextButton.disabled = false;

            // Determine if the answer is correct
            if (q.answerOptions[selectedIndex].isCorrect) {
                selectedOption.classList.add('correct');
                feedbackDiv.classList.add('correct');
                feedbackDiv.classList.remove('incorrect', 'hidden');
                feedbackDiv.innerHTML = `<p class="font-bold">Correct !</p><p class="mt-1">${q.answerOptions[selectedIndex].rationale}</p>`;
                score++;
                isCorrect = true;
            } else {
                selectedOption.classList.add('incorrect');
                feedbackDiv.classList.add('incorrect');
                feedbackDiv.classList.remove('correct', 'hidden');
                feedbackDiv.innerHTML = `<p class="font-bold">Incorrect.</p><p class="mt-1">${q.answerOptions[selectedIndex].rationale}</p>`;

                // Highlight the correct answer
                q.answerOptions.forEach((option, index) => {
                    if (option.isCorrect) {
                        const correctOptionElement = document.querySelector(`.quiz-option[data-index="${index}"]`);
                        if (correctOptionElement) {
                            correctOptionElement.classList.add('correct');
                            // Add rationale of the correct answer to the feedback for context
                            feedbackDiv.innerHTML += `<p class="mt-3 font-semibold text-ski-navy">R√©ponse Correcte :</p><p>${option.rationale}</p>`;
                        }
                    }
                });
            }
        }

        function nextQuestion() {
            currentQuestionIndex++;
            renderQuiz();
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            renderQuiz();
        }

        window.onload = function () {
            
            const forceChartCtx = document.getElementById('forceChart').getContext('2d');
            new Chart(forceChartCtx, {
                type: 'line',
                data: {
                    labels: ['D√©but (Phase 1)', 'Pic (Phase 2)', 'Fin (Phase 3)'],
                    datasets: [{
                        label: 'Intensit√© de la Force',
                        data: [0.5, 3, 0.5],
                        borderColor: skiBlue,
                        backgroundColor: 'rgba(17, 138, 178, 0.2)',
                        fill: true,
                        tension: 0.4,
                        borderWidth: 3
                    }]
                },
                options: {
                    ...commonChartOptions,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'Pression (Unit√© Arbitraire)', color: skiNavy },
                            ticks: { color: skiNavy }
                        },
                        x: {
                            title: { display: true, text: 'Temps / Trajectoire', color: skiNavy },
                            ticks: { color: skiNavy }
                        }
                    }
                }
            });

            const projectionChartCtx = document.getElementById('projectionChart').getContext('2d');
            new Chart(projectionChartCtx, {
                type: 'doughnut',
                data: {
                    labels: [
                        wrapLabel('Projection Efficace (Horizontale)'),
                        wrapLabel('√âl√©vation Inefficace (Verticale)')
                    ],
                    datasets: [{
                        label: 'Efficacit√© de la Projection',
                        data: [80, 20],
                        backgroundColor: [skiGreen, skiRed],
                        borderColor: '#ffffff',
                        borderWidth: 2
                    }]
                },
                options: {
                    ...commonChartOptions,
                    plugins: {
                        ...commonChartOptions.plugins,
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            const familiesChartCtx = document.getElementById('familiesChart').getContext('2d');
            new Chart(familiesChartCtx, {
                type: 'radar',
                data: {
                    labels: [
                        'Intensit√©',
                        wrapLabel('Vitesse Max'),
                        wrapLabel('Rayon de Courbe'),
                        wrapLabel('Changement Direction'),
                        wrapLabel('Conservation √ânergie')
                    ],
                    datasets: [{
                        label: 'Appuis Gliss√©s / Pilot√©s (Vitesse)',
                        data: [2, 5, 5, 1, 5],
                        backgroundColor: 'rgba(17, 138, 178, 0.2)',
                        borderColor: skiBlue,
                        borderWidth: 2,
                        pointBackgroundColor: skiBlue
                    }, {
                        label: 'Appuis D√©viation / Changement (Technique)',
                        data: [5, 2, 2, 5, 2],
                        backgroundColor: 'rgba(255, 209, 102, 0.2)',
                        borderColor: skiYellow,
                        borderWidth: 2,
                        pointBackgroundColor: skiYellow
                    }]
                },
                options: {
                    ...commonChartOptions,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 5,
                            min: 0,
                            ticks: {
                                stepSize: 1,
                                backdropColor: 'rgba(255, 255, 255, 0.5)',
                                color: skiNavy
                            },
                            pointLabels: {
                                color: skiNavy,
                                font: { size: 12 }
                            },
                            grid: {
                                color: 'rgba(7, 59, 76, 0.2)'
                            },
                            angleLines: {
                                color: 'rgba(7, 59, 76, 0.2)'
                            }
                        }
                    },
                    plugins: {
                        ...commonChartOptions.plugins,
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            const pedagogyChartCtx = document.getElementById('pedagogyChart').getContext('2d');
            new Chart(pedagogyChartCtx, {
                type: 'pie',
                data: {
                    labels: [
                        wrapLabel('Mise en Situation'),
                        wrapLabel('Feedback (Vid√©o)'),
                        'R√©p√©tition',
                        'D√©monstration',
                        'Magistrale',
                        'Diff√©rentiel'
                    ],
                    datasets: [{
                        label: 'Mix P√©dagogique',
                        data: [30, 20, 15, 10, 10, 15],
                        backgroundColor: chartColors,
                        borderColor: '#ffffff',
                        borderWidth: 2
                    }]
                },
                options: {
                    ...commonChartOptions,
                    plugins: {
                        ...commonChartOptions.plugins,
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // Quiz initialization
            document.getElementById('next-button').addEventListener('click', nextQuestion);
            document.getElementById('restart-button').addEventListener('click', restartQuiz);
            renderQuiz();
        };
    </script>
</body>
</html>
