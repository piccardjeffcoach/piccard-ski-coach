<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz sur l'Analyse Fonctionnelle du Virage de Ski</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light background */
            color: #334155; /* Dark text */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 2rem;
            box-sizing: border-box;
        }
        .quiz-container {
            background-color: #ffffff;
            border-radius: 1.5rem; /* Rounded corners */
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); /* Soft shadow */
            padding: 2.5rem;
            max-width: 700px;
            width: 100%;
            text-align: center;
            border: 1px solid #e2e8f0;
        }
        .quiz-title {
            font-size: 2.5rem;
            font-weight: 800;
            color: #dc2626; /* ESF Red */
            margin-bottom: 2rem;
            letter-spacing: -0.025em;
        }
        .question-text {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1d4ed8; /* ESF Blue */
            margin-bottom: 1.5rem;
        }
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .option-label {
            display: flex;
            align-items: center;
            background-color: #e0f2fe; /* Light blue */
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            font-size: 1.1rem;
            font-weight: 500;
            color: #334155;
            text-align: left; /* Align text to the left */
        }
        .option-label:hover {
            background-color: #bfdbfe; /* Darker light blue on hover */
            transform: translateY(-2px);
        }
        .option-label input[type="radio"] {
            margin-right: 1rem;
            accent-color: #007BFF; /* Blue radio button */
            transform: scale(1.2); /* Slightly larger radio button */
        }
        .feedback-message {
            margin-top: 1rem;
            font-size: 1.1rem;
            font-weight: 600;
        }
        .feedback-correct {
            color: #10b981; /* Green */
        }
        .feedback-incorrect {
            color: #ef4444; /* Red */
        }
        .quiz-button {
            background-color: #007BFF; /* ESF Blue */
            color: white;
            padding: 0.8rem 2rem;
            border-radius: 0.75rem;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            border: none;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .quiz-button:hover {
            background-color: #0056b3; /* Darker blue on hover */
            transform: translateY(-2px);
        }
        .results-container {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1d4ed8;
            margin-top: 2rem;
        }
        .restart-button {
            background-color: #dc2626; /* ESF Red */
            margin-top: 1.5rem;
        }
        .restart-button:hover {
            background-color: #b91c1c; /* Darker red on hover */
        }
    </style>
</head>
<body>
    <div id="quiz" class="quiz-container">
        <h1 class="quiz-title">Quiz sur le Virage de Ski</h1>
        <div id="question-area">
            <p id="question-text" class="question-text"></p>
            <div id="options-container" class="options-container"></div>
            <p id="feedback" class="feedback-message"></p>
            <button id="next-button" class="quiz-button">Question Suivante</button>
        </div>
        <div id="results-area" class="results-container hidden">
            <p>Votre score final : <span id="final-score"></span> / 8</p>
            <button id="restart-button" class="quiz-button restart-button">Recommencer le Quiz</button>
        </div>
    </div>

    <script>
        // Array of quiz questions based on the ski infographic
        const questions = [
            {
                question: "Quel est l'objectif principal de la démarche d'analyse fonctionnelle dans le sport ?",
                options: [
                    "Décrire simplement les gestes sportifs.",
                    "Développer l'intelligence motrice.",
                    "Imposer un modèle technique parfait.",
                    "Limiter l'exploration des extrêmes."
                ],
                correctAnswer: 1 // Développer l'intelligence motrice
            },
            {
                question: "Selon l'infographie, l'apprentissage respecte 3 principes pour l'éducateur. Lesquels ?",
                options: [
                    "Appliquer, corriger, évaluer.",
                    "Partir de ce que l'on sait faire, explorer les extrêmes, éliminer ce qu'il ne faut pas faire.",
                    "Observer, analyser, reproduire.",
                    "Théoriser, pratiquer, mémoriser."
                ],
                correctAnswer: 1 // Partir de ce que l'on sait faire, explorer les extrêmes, éliminer ce qu'il ne faut pas faire
            },
            {
                question: "Comment la technique est-elle définie dans le contexte de l'analyse fonctionnelle du ski ?",
                options: [
                    "Une séquence de mouvements figée.",
                    "Une finalité à atteindre absolument.",
                    "L'interaction entre l'individu, le milieu et un but.",
                    "La copie d'un modèle de skieur."
                ],
                correctAnswer: 2 // L'interaction entre l'individu, le milieu et un but
            },
            {
                question: "Quelles sont les trois phases principales du virage de compétition ?",
                options: [
                    "Préparation, exécution, récupération.",
                    "Prise de carre, équilibre, glisse.",
                    "L'Entonnoir, la Glissière, l'Impulsion.",
                    "L'approche, le passage de porte, la relance."
                ],
                correctAnswer: 2 // L'Entonnoir, la Glissière, l'Impulsion
            },
            {
                question: "Que se passe-t-il principalement dans la phase de l'Entonnoir (phase de déclenchement) ?",
                options: [
                    "Le skieur se projette vers l'avant.",
                    "Le skieur change de direction brutalement.",
                    "Il y a une orientation des appuis et une mise en direction des skis.",
                    "Le skieur cherche à dissiper l'énergie."
                ],
                correctAnswer: 2 // Il y a une orientation des appuis et une mise en direction des skis.
            },
            {
                question: "Quel est le concept clé de la phase de la Glissière (phase de franchissement de porte) ?",
                options: [
                    "Le relâchement musculaire.",
                    "La mise en tension et la déviation.",
                    "L'allègement vertical.",
                    "La perte de vitesse intentionnelle."
                ],
                correctAnswer: 1 // La mise en tension et la déviation.
            },
            {
                question: "Quel est l'un des rôles majeurs des membres libres (bras) dans le virage de ski ?",
                options: [
                    "Uniquement pour la signalisation.",
                    "Un rôle d'équilibration et d'amplification de l'appui/renvoi.",
                    "Uniquement pour la vitesse.",
                    "Ils n'ont pas d'impact significatif."
                ],
                correctAnswer: 1 // Un rôle d'équilibration et d'amplification de l'appui/renvoi.
            },
            {
                question: "Quel est le critère de réussite principal pour les exercices de la 'Famille des Pas' ?",
                options: [
                    "La qualité de gainage.",
                    "Le transfert du poids de corps d'un appui vers l'autre.",
                    "La finesse des orientations.",
                    "Les notions de rythme et d'adaptation aux longueurs d'appui."
                ],
                correctAnswer: 1 // Le transfert du poids de corps d'un appui vers l'autre.
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let selectedOption = null; // To store the currently selected option index

        const questionTextElement = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const nextButton = document.getElementById('next-button');
        const feedbackElement = document.getElementById('feedback');
        const resultsArea = document.getElementById('results-area');
        const questionArea = document.getElementById('question-area');
        const finalScoreElement = document.getElementById('final-score');
        const restartButton = document.getElementById('restart-button');

        // Function to display the current question
        function displayQuestion() {
            feedbackElement.textContent = ''; // Clear feedback
            nextButton.textContent = 'Question Suivante';
            nextButton.disabled = true; // Disable until an option is selected
            selectedOption = null; // Reset selected option

            if (currentQuestionIndex < questions.length) {
                const questionData = questions[currentQuestionIndex];
                questionTextElement.textContent = `${currentQuestionIndex + 1}. ${questionData.question}`;
                optionsContainer.innerHTML = ''; // Clear previous options

                questionData.options.forEach((option, index) => {
                    const label = document.createElement('label');
                    label.className = 'option-label';
                    label.innerHTML = `
                        <input type="radio" name="answer" value="${index}" class="form-radio" />
                        ${option}
                    `;
                    label.addEventListener('click', () => {
                        // Store the selected option index when a label is clicked
                        selectedOption = index;
                        nextButton.disabled = false; // Enable the next button
                    });
                    optionsContainer.appendChild(label);
                });
                resultsArea.classList.add('hidden');
                questionArea.classList.remove('hidden');
            } else {
                showResults();
            }
        }

        // Function to check the selected answer
        function checkAnswer() {
            if (selectedOption === null) {
                feedbackElement.textContent = 'Veuillez sélectionner une réponse.';
                feedbackElement.className = 'feedback-message feedback-incorrect';
                return;
            }

            const questionData = questions[currentQuestionIndex];
            if (selectedOption === questionData.correctAnswer) {
                score++;
                feedbackElement.textContent = 'Correct !';
                feedbackElement.className = 'feedback-message feedback-correct';
            } else {
                feedbackElement.textContent = `Faux. La bonne réponse était : ${questionData.options[questionData.correctAnswer]}`;
                feedbackElement.className = 'feedback-message feedback-incorrect';
            }

            // Temporarily disable options after answering
            const radioButtons = optionsContainer.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => radio.disabled = true);

            nextButton.textContent = (currentQuestionIndex === questions.length - 1) ? 'Voir les résultats' : 'Question Suivante';
            nextButton.disabled = false; // Ensure button is enabled to proceed
        }

        // Function to advance to the next question
        function goToNextQuestion() {
            if (feedbackElement.textContent !== '') {
                currentQuestionIndex++;
                displayQuestion();
            }
        }

        // Function to show final results
        function showResults() {
            questionArea.classList.add('hidden');
            resultsArea.classList.remove('hidden');
            finalScoreElement.textContent = score;
        }

        // Function to restart the quiz
        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            displayQuestion();
        }

        // Event Listeners
        nextButton.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length) {
                checkAnswer(); // First, check the answer for the current question
                setTimeout(goToNextQuestion, 1500); // Wait 1.5 seconds before moving to next question
            } else {
                showResults();
            }
        });

        restartButton.addEventListener('click', restartQuiz);

        // Initialize the quiz
        displayQuestion();
    </script>
</body>
</html>
